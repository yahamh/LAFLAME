!function(){"use strict";function i(){return(new Date).getTime()}function o(){function t(t){var e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return t()+t(!0)+t(!0)+t()}function e(){var t=document.querySelectorAll('[type="application/ld+json"]')[0];if(!t)return[];var e=t.innerText,n=[];if(t&&e){var i=Object.keys(JSON.parse(e)),o=JSON.parse(e);i.map(function(t){var e=o[t];n.push({metaType:H,key:t,value:function(t){return!!t&&t.constructor===Object}(e)?function(t,e,n){var i=1<arguments.length&&void 0!==e?e:":",o=2<arguments.length&&void 0!==n?n:",",r="";for(var a in t)t.hasOwnProperty(a)&&(r+=""+a+i+t[a]+o);return r}(e):e})})}return n}function t(){if(Y=(Y=function(){var t=document.querySelectorAll("meta");return Array.from(t).filter(function(t){return null!==t.getAttribute("itemprop")||null!==t.getAttribute("property")}).reduce(function(t,e){return e.getAttribute("itemprop")&&t.push({metaType:G,key:e.getAttribute("itemprop"),value:e.getAttribute("content")}),e.getAttribute("property")&&t.push({metaType:D,key:e.getAttribute("property"),value:e.getAttribute("content")}),t},[])}()).concat(e()),function(){if(void 0!==window.dataLayer&&void 0!==window.dataLayer.push)return!0}()){var t=function(t){return t.map(function(e){return Object.keys(e).map(function(t){return{metaType:N,key:t,value:e[t]}})})[0]}(window.dataLayer);Y=Y.concat(t)}Y=JSON.stringify(Y)}function r(t,e){var n=Object.assign({},{orderSessionId:U,type:t,eventData:e,utcTimestamp:i(),eventGroupId:V,eventId:o()});return t===O&&Object.assign(n,{pageInfo:B,metaInfo:Y}),n}function n(t,e){var n=1<arguments.length&&void 0!==e?e:{};F.push(r(t,n))}function a(){F=[]}function u(t){t.timeout+=1}function c(t,e){400<=e&&e<500?t.fourXX+=1:500<=e&&(t.fiveXX+=1)}function s(t){et=t}function f(t){localStorage.removeItem(Q);try{localStorage.setItem(Q,t)}catch(t){"QuotaExceededError"===t.name&&(J+=1)}}function d(t,e,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&200===i.status&&(W.fiveXX=0,W.fourXX=0,W.timeout=0,Z.fiveXX=0,Z.fourXX=0,Z.timeout=0,Z.unsent=0,J=0,n()),0===i.status&&null===i.statusText&&(function(t){t.unsent+=1}(Z),e())},i.onerror=function(){c(Z,i.status),e()},i.ontimeout=function(){u(Z),e()},0<j&&(i.timeout=j),i.open("POST",I+"/ingest",!0),i.setRequestHeader("Content-Type","application/json");var o=nt();o&&i.setRequestHeader(Q,o),i.setRequestHeader("Tracking-State",nt()||et!==$?et:tt),i.send(JSON.stringify({session_id:U,script_version:"101",events:t,metrics:{onload:{fourXX:W.fourXX,fiveXX:W.fiveXX,timeout:W.timeout},ingest:{fourXX:Z.fourXX,fiveXX:W.fiveXX,timeout:W.timeout,unsent:Z.unsent},localStorageFull:J}}))}function p(){1<(ot+=1)&&window.clearInterval(it)}function l(){document.body.addEventListener("click",at,!!rt&&{passive:!0}),document.addEventListener("visibilitychange",ut,!!rt&&{passive:!0}),ct(),it=setInterval(function(){if(0<F.length&&ot<1)try{d(F,p,a)}catch(t){p()}},3e3),function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState===n.HEADERS_RECEIVED&&(f(n.getResponseHeader(Q)),s($)),4===n.readyState&&200===n.status&&e()},n.onerror=function(){s(z+"#"+n.status),c(W,n.status),t()},n.ontimeout=function(){s(K),u(W),t()},0<C&&(n.timeout=C),n.open("GET",I+"/onload",!0),nt()&&n.setRequestHeader(Q,nt()),n.send()}(p,function(){return d(F,p,a)})}function m(){i(),function(){var t=window.location;B={origin:t.origin,referrer:document.referrer,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol}}(),t(),V=o(),function(){try{var t=Object.defineProperty({},"passive",{get:function(){rt=!0}});window.addEventListener("test",null,t)}catch(t){}}(),n(O),l()}var g,v,y,h,S,x,w,X,_,E,T,A,b,I="https://bt.signifyd.com:11103",O="PAGE_LOAD",R="CLICK",L="PAGE_VISIBILITY",k="ON_BEFORE_UNLOAD",D="OPENGRAPH",G="SCHEMA_ORG",H="JSON_LD",N="GTM_DATA_LAYER",C=parseInt("1000"),j=parseInt("1000"),M=null,P=function(){q().then(function(t){M=t.token}).catch(function(t){console.log(t)})},q=function(){return new Promise(function(e,n){var i=!0,o=setTimeout(function(){i=!1,n(),clearTimeout(o)},3e3);try{window.Shopify.api.getCart(function(t){i&&e(t),o&&clearTimeout(o)})}catch(t){n(t),console.log("error",t),i=!1,clearTimeout(o)}})},B=void 0,Y=[],V=void 0,U=function(){if(window.Shopify){var t=function(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()}("cart")||M;return!t&&window.Shopify.api&&P(),t||"none"}return function(t,e){var n=document.getElementById(t);return n&&n.getAttribute(e)}("script-tag-api","data-order-session-id")}(),F=[],J=0,W={fourXX:0,fiveXX:0,timeout:0},Z={fourXX:0,fiveXX:0,timeout:0,unsent:0},Q="Tracking",z="RETRIEVE_ERROR",K="RETRIEVE_TIMED_OUT",$="RECEIVED",tt="NOT_STORED",et="NOT_YET_RECEIVED",nt=function(){return localStorage.getItem(Q)},it=void 0,ot=0,rt=!1,at=function(t){var e={target:{tagName:String(t.target.tagName)||null,text:String(t.target.text)||null,pathname:String(t.target.pathname)||null},eventTimestamp:t.timeStamp,type:R,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,innerHeight:window.innerHeight,innerWidth:window.innerWidth,mouseButton:t.button};n(R,e)},ut=function(t){var e={type:L,eventTimestamp:t.timeStamp,pageVisible:!document.hidden};n(L,e)},ct=function(){window.onbeforeunload=function(t){var e={type:k,eventTimestamp:t.timeStamp};n(k,e),d(F,p,a)}};"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?m():document.addEventListener("DOMContentLoaded",function(){m()},!1),window.__SCRIPTTAG__=(g=window||{},h="______sig______",S=function(e){var t=x(),n=w();-1!==g.name.indexOf(h)?(v=n||(t||(g.name.split(h)[1]||b())),e()):X(function(t){t&&(g.name=h+t+h,v=t,e())})},x=function(){return A("cart")},w=function(){return g&&g.Shopify&&g.Shopify.Checkout&&g.Shopify.Checkout.token},X=function(n){var i=g.Shopify&&g.Shopify.shop;return T("https://www.cloudflare.com/cdn-cgi/trace",function(t){var e=t.responseText.split("ip=").pop().split("\n")[0];n((e+i).replace(/[^a-zA-Z0-9]/g,""))},function(){n()})},_=function(){if(!navigator.userAgent.includes(atob("Q2hyb21lLUxpZ2h0aG91c2U="))&&!navigator.userAgent.includes(atob("R29vZ2xlIFBhZ2UgU3BlZWQgSW5zaWdodHM="))){var t="https://imgs.signifyd.com/fp/tags.js?org_id=w2txo5aa&session_id="+v+"&pageid=2",e=document.createElement("script"),n=!1,i=document.getElementsByTagName("head")[0];e.onload=e.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,E())},e.setAttribute("type","text/javascript"),e.setAttribute("src",t),e.setAttribute("id","script-tag-tmx"),e.setAttribute("data-id","script-tag-tmx"),i.appendChild(e)}},E=function(){return y=!0},T=function(t,e,n){var i=new XMLHttpRequest,o=null;i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?o=i:n(i))},i.send(),i.onloadend=function(){return o&&e(o)},i.error=function(){return n(i)}},A=function(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()},b=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},{init:function(){S(_)},scriptTagHasLoaded:function(){return y}}),window.SIGNIFYD_GLOBAL=window.__SCRIPTTAG__,window.SIGNIFYD_GLOBAL.init()}();